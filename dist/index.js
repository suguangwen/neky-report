function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,n){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"object"===("undefined"==typeof module?"undefined":_typeof(module))?module.exports=n:"function"==typeof define&&define.amd?define([],n):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?exports.nekyEeport=n:e.nekyEeport=n}(this,function(){if("undefined"!=typeof window){var _win=window||null,_doc=_win.document;if(!_win._neky_rpt_||!0!==_win._neky_rpt_.loaded){_win._neky_rpt_=_win._neky_rpt_||{},_win._neky_rpt_.loaded=!0,_win._neky_rpt_.version="1.0.0";var nekyType={getObjectType:function(e){return Object.prototype.toString.call(e)},isString:function(e){return"string"==typeof e||"object"==_typeof(e)&&null!=e&&!Array.isArray(e)&&"[object String]"==this.getObjectType(e)},isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},isBoolean:function(e){return!0===e||!1===e||"[object Boolean]"===this.getObjectType(e)},isNull:function(e){return null===e},isUndefined:function(e){return void 0===e},isObject:function(e){return null!=typeof e&&("object"==_typeof(e)||"function"==typeof e)},isFunction:function(e){if(!this.isObject(e))return!1;var n=this.getObjectType(e);return"[object Function]"==n||"[object AsyncFunction]"==n||"[object GeneratorFunction]"==n||"[object Proxy]"==n},isArray:function(e){return"function"==typeof Array.isArray&&Array.isArray(e)||"[object Array]"===this.getObjectType(e)},isDate:function(e){return"[object Date]"===this.getObjectType(e)},isRegExp:function(e){return"[object RegExp]"===this.getObjectType(e)},isError:function(e){var n=this.getObjectType(e);return"[object Error]"==n||"[object DOMException]"==n||e instanceof Error},isEmpty:function(e){return null==e},isEmptyObject:function(e){if(this.isBoolean(e)||this.isNumber(e)||this.isDate(e))return!1;for(var n in e)if(e.hasOwnProperty(n))return!1;return!0},isPlainObject:function(e){return!this.isNull(e)&&!this.isUndefined(e)&&(this.isObject(e)&&e.__proto__===Object.prototype)},isFalse:function(e){return""==e||null==e||null==e||"null"==e||"undefined"==e||0==e||0==e||NaN==e},isTrue:function(e){return!this.isFalse(e)}},a=0,nekyEeport={version:"1.0.0",loadTime:(new Date).getTime(),zca:null,zcb:null,vid:null,referer:document.referrer||_win.location.origin,twoYears:63072e6,semih:18e5,startTime:null,endTime:null,browserInfo:browserInfo(),accessPath:[],getHash:getHash()||[],hashOne:"",eventType:null,XMLHttpRequest:XMLHttpRequest,apiData:[],noFun:function(){},isTouchmove:!1,eventList:[{eventName:"load",eventType:_win},{eventName:"beforeunload",eventType:_win},{eventName:"unload",eventType:_win},{eventName:"click",eventType:_doc},{eventName:"touchend",eventType:_win},{eventName:"touchmove",eventType:_win}],config:{url:"http://localhost:3000/zc.gif",uid:void 0,isClick:!1,clickAttr:{dom:[],attr:[]}},init:function init(){var vm=this;vm.readZcaData(),vm.readZcbData(),vm.hashOne=vm.getHash&&0<vm.getHash.length?_win.location.pathname+"#"+vm.getHash[0]:_win.location.pathname+_win.location.search;for(var i=0;i<vm.eventList.length;i++)vm.on(vm.eventList[i].eventType,vm.eventList[i].eventName,eval("vm."+vm.eventList[i].eventName+"Event")||vm.noFun)},on:function(e,n,t){e&&(e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent&&e.attachEvent("on"+n,t))},off:function(e,n,t){e&&(e.addEventListener?e.removeEventListener(n,t,!1):e.attachEvent&&e.detachEvent("on"+n,t))},loadEvent:function(){var e=nekyEeport,n=(new Date).getTime();e.zcb=n,e.hashOne=e.getHash?_win.location.pathname+"#"+e.getHash[0]:"",e.accessPath.push(_win.location.origin+e.hashOne),e.startTime=n,e.eventType="load",e.writeZcaData(e),e.writeZcbData(e);var t=e.loadEventData(e);e.sendData(e.compress(t))},loadEventData:function(e){return{pv:e.fullPv()}},beforeunloadEvent:function(){var e=nekyEeport;e.endTime=(new Date).getTime(),e.eventType="beforeunload"},beforeunloadData:function(e){return{startTime:e.startTime,endTime:e.endTime}},unloadEvent:function(){var e=nekyEeport;(new Date).getTime()-e.endTime<=5&&(e.eventType="unload",removeCookie("_zcb"));var n=e.beforeunloadData(e);e.startTime&&e.sendData(e.compress(n))},clickEvent:function(e){e=e||arguments.callee.caller.arguments[0]||window.event;var n=nekyEeport,t=n.config.clickAttr,i=e.target,r=e.path,o=[],a=i.nodeName.toLowerCase(),s={},c=!1,u=[];if(i.parentNode)for(var f=1,d=null,p=0;p<f&&(1==f?d=t.dom&&t.dom.indexOf(a)<0||t.noClassDom&&t.noClassDom.indexOf(a)<0?i.parentNode:i:d&&(d=d.parentNode),d);p++){for(var l=d.className?d.className.split(" "):[],v=0;v<l.length;v++)t.className&&0<=t.className.indexOf(l[v])&&(c=!0);t.noClassDom&&0<=t.noClassDom.indexOf(d.nodeName.toLowerCase())&&(c=!0),d&&c?i=d:f<10&&f++}a=i.nodeName.toLowerCase();for(var y=0;y<t.attr.length;y++)(!t.attr[y].tag||0<=t.attr[y].tag.split(" ").indexOf(a)&&c||t.noClassDom&&0<=t.noClassDom.indexOf(a))&&i.getAttribute(t.attr[y].attrKey)&&(s[t.attr[y].objKey]=i.getAttribute(t.attr[y].attrKey),null==t.attr[y].isUp||t.attr[y].isUp||u.push(t.attr[y].objKey));if(!nekyType.isEmptyObject(s)){for(var h=0;h<r.length-2;h++)o.unshift(r[h].tagName);o=o.join(">"),n.eventType="click";var m={pageX:e.pageX||e.changedTouches[0].pageX,pageY:e.pageY||e.changedTouches[0].pageY,eventType:n.eventType,domPath:o,pageUrl:_win.location.href};nekyType.isFunction(t.fun)&&(s=mergeJSON(t.fun(s),s)),u=Array.from(new Set(u));for(var g=0;g<u.length;g++)delete s[u[g]];(n.config.isClick||t.dom&&0<=t.dom.indexOf(a)||t.noClassDom&&0<=t.noClassDom.indexOf(a))&&n.sendData(parseParam(mergeJSON(m,s)))}},touchendEvent:function(e){var n=nekyEeport;n.isTouchmove?n.isTouchmove=!1:n.clickEvent(e)},touchmoveEvent:function(e){nekyEeport.isTouchmove=!0},setUid:function(){return this.loadTime.toString(36)+(""+Math.random()).slice(-8).toString(36).substr(2,5)},readZcaData:function(){var e=getCookie("_zca");if(e){var n=e.split(".");6==n.length&&(this.zca=n)}if(!this.zca){var t=this.loadTime;this.zca=[t,this.setUid().toString(36),t,t,0,0],setCookie("_zca",this.zca.join("."),this.twoYears)}},readZcbData:function(){var e=getCookie("_zcb");e&&(this.zcb=e),this.zcb||(this.zcb=this.loadTime,setCookie("_zcb",this.zcb,this.semih))},writeZcaData:function(e){var n=(new Date).getTime();e.zca[5]=parseInt(e.zca[5])+1,(e.zcb==e.loadTime||n-e.zcb>e.semih)&&(e.zca[2]=e.zca[3],e.zca[3]=n,e.zca[4]=parseInt(e.zca[4])+1),setCookie("_zca",e.zca.join("."),e.twoYears)},writeZcbData:function(e){setCookie("_zcb",e.zcb,e.semih)},fullPv:function(){return this.vid=this.zca[0]+"."+this.zca[1],this.zca[0]+"."+this.zca[1]+"."+this.zca[4]+"."+this.zca[5]},compress:function(e){return parseParam(mergeJSON({os:this.browserInfo.os,browser:this.browserInfo.browser,screen:_win.screen.availHeight+"x"+_win.screen.availWidth,pageUrl:_win.location.href,referer:this.referer,language:this.browserInfo.language,time:(new Date).getTime(),eventType:this.eventType,accessPath:this.accessPath.join(",")},e))},impressionData:function(e){var n=nekyEeport,t={eventType:"impression",pageUrl:_win.location.href,time:(new Date).getTime(),pv:n.fullPv()||""};if(e)return n.sendData(parseParam(mergeJSON(t,e)))},basicData:function(e){return this.vid&&(e+="&vid="+this.vid),this.config.uid&&(e+="&uid="+this.config.uid),this.version&&(e+="&jv="+this.version),e+="&device="+this.browserInfo.device},sendData:function(e){var n=this.config.url;n+="?"+this.basicData(e)||"";var t=new Image;t.onload=t.onerror=function(){t=null},t.src=n},xmlFun:function(e){var n=e.target,t=nekyEeport,i=null;if("readystatechange"===e.type&&4==n.readyState&&200==n.status)for(var r=0;r<t.apiData.length;r++)if(_win.location.origin+"/"+t.apiData[r].apiName==n.responseURL)if((i=nekyType.isPlainObject(n.response)?t.apiData[r].apiFun(n.response):t.apiData[r].apiFun(JSON.parse(n.response)))&&nekyType.isArray(i)&&0<i.length)for(var o=0;o<i.length;o++)t.impressionData(i[o]);else i&&nekyType.isPlainObject(i)&&!nekyType.isEmptyObject(i)&&t.impressionData(i)},api:{watchApi:function(e,n){var t=nekyEeport;e&&t.apiData.push({apiName:e,apiFun:n||t.noFun})},watchRead:function(e){var n=nekyEeport,t=e();if(t&&nekyType.isArray(t)&&0<t.length)for(var i=0;i<t.length;i++)n.impressionData(t[i]);else t&&nekyType.isPlainObject(t)&&!nekyType.isEmptyObject(t)&&n.impressionData(t)},setData:function(e){if((e=e||null)&&nekyType.isPlainObject(e)&&!nekyType.isEmptyObject(e))for(var n in e)nekyEeport.config[n]=e[n]}}};return _win.XMLHttpRequest=function(){var e=new nekyEeport.XMLHttpRequest;return e.addEventListener("readystatechange",nekyEeport.xmlFun),e.addEventListener("error",nekyEeport.xmlFun),e.addEventListener("timeout",nekyEeport.xmlFun),e.addEventListener("loadstart",nekyEeport.xmlFun),e.addEventListener("loadend",nekyEeport.xmlFun),e},_win._neky_rpt_.init=function(e){return e=e||{},nekyEeport.config={url:e.url,uid:e.uid,isClick:e.isClick,clickAttr:e.clickAttr},nekyEeport.version=this.version,nekyEeport.init(),_win._neky_rpt_},_win._neky_rpt_.watchApi=nekyEeport.api.watchApi,_win._neky_rpt_.watchRead=nekyEeport.api.watchRead,_win._neky_rpt_.setData=nekyEeport.api.setData,_win._neky_rpt_}}function setCookie(e,n,t){t=t||0;var i=new Date;i.setTime(i.getTime()+t),_doc.cookie=e+"="+escape(n)+";path=/;expires="+i.toGMTString()}function getCookie(e){var n=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!=n?unescape(n[2]):null}function removeCookie(e){setCookie(e,"1",-1)}function parseParam(e,n){var t="";if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)t+="&"+n+"="+encodeURIComponent(e);else for(var i in e){var r=null==n?i:n+(e instanceof Array?"["+i+"]":"."+i);t+="&"+parseParam(e[i],r)}return t.substr(1)+""}function mergeJSON(e,n){var t={};for(var i in e)t[i]=e[i];for(var r in n)t[r]=n[r];return t}function getHash(){var e=document.location.hash;return e&&(e=(e=e.replace("#","")).split("?")),e}function browserInfo(){var n=navigator.userAgent,e={},t={Trident:0<n.indexOf("Trident")||0<n.indexOf("NET CLR"),Presto:0<n.indexOf("Presto"),WebKit:0<n.indexOf("AppleWebKit"),Gecko:0<n.indexOf("Gecko/"),Safari:0<n.indexOf("Safari"),Chrome:0<n.indexOf("Chrome")||0<n.indexOf("CriOS"),IE:0<n.indexOf("MSIE")||0<n.indexOf("Trident"),Edge:0<n.indexOf("Edge"),Firefox:0<n.indexOf("Firefox"),Opera:0<n.indexOf("Opera")||0<n.indexOf("OPR"),Vivaldi:0<n.indexOf("Vivaldi"),UC:0<n.indexOf("UC")||0<n.indexOf(" UBrowser"),QQBrowser:0<n.indexOf("QQBrowser"),QQ:0<n.indexOf("QQ/"),Baidu:0<n.indexOf("Baidu")||0<n.indexOf("BIDUBrowser"),Maxthon:0<n.indexOf("Maxthon"),LBBROWSER:0<n.indexOf("LBBROWSER"),"2345Explorer":0<n.indexOf("2345Explorer"),Sogou:0<n.indexOf("MetaSr")||0<n.indexOf("Sogou"),Wechat:0<n.indexOf("MicroMessenger"),Taobao:0<n.indexOf("AliApp(TB"),Alipay:0<n.indexOf("AliApp(AP"),Weibo:0<n.indexOf("Weibo"),Suning:0<n.indexOf("SNEBUY-APP"),iQiYi:0<n.indexOf("IqiyiApp"),Windows:0<n.indexOf("Windows"),Linux:0<n.indexOf("Linux"),Mac:0<n.indexOf("Macintosh"),Android:0<n.indexOf("Android")||0<n.indexOf("Adr"),WP:0<n.indexOf("IEMobile"),BlackBerry:0<n.indexOf("BlackBerry")||0<n.indexOf("RIM")||0<n.indexOf("BB"),MeeGo:0<n.indexOf("MeeGo"),Symbian:0<n.indexOf("Symbian"),iOS:0<n.indexOf("like Mac OS X"),Mobile:0<n.indexOf("Mobi")||0<n.indexOf("iPh")||0<n.indexOf("480"),Tablet:0<n.indexOf("Tablet")||0<n.indexOf("iPad")||0<n.indexOf("Nexus 7")};t.Mobile&&(t.Mobile=!(0<n.indexOf("iPad")));var i,r={engine:["WebKit","Trident","Gecko","Presto"],browser:["Safari","Chrome","IE","Edge","Firefox","Opera","Vivaldi","UC","QQBrowser","QQ","Baidu","Maxthon","Sogou","LBBROWSER","2345Explorer","Wechat","Taobao","Alipay","Weibo","Suning","iQiYi"],os:["Windows","Linux","Mac","Android","iOS","WP","BlackBerry","MeeGo","Symbian"],device:["Mobile","Tablet"]};for(var o in e.device="PC",e.language=((i=(navigator.browserLanguage||navigator.language).split("-"))[1]&&(i[1]=i[1].toUpperCase()),i.join("-")),r)for(var a=0;a<r[o].length;a++){var s=r[o][a];t[s]&&(e[o]=s)}var c={Windows:function(){var e=n.replace(/^.*Windows NT ([\d.]+);.*$/,"$1");return{6.4:"10",6.3:"8.1",6.2:"8",6.1:"7","6.0":"Vista",5.2:"XP",5.1:"XP","5.0":"2000"}[e]||e},Android:function(){return n.replace(/^.*Android ([\d.]+);.*$/,"$1")},iOS:function(){return n.replace(/^.*OS ([\d_]+) like.*$/,"$1").replace(/_/g,".")},Mac:function(){return n.replace(/^.*Mac OS X ([\d_]+).*$/,"$1").replace(/_/g,".")}};e.osVersion="",c[e.os]&&(e.osVersion=c[e.os]());var u={Chrome:function(){return n.replace(/^.*Chrome\/([\d.]+).*$/,"$1")},IE:function(){var e=n.replace(/^.*MSIE ([\d.]+).*$/,"$1");return e==n&&(e=n.replace(/^.*rv:([\d.]+).*$/,"$1")),e!=n?e:""},Edge:function(){return n.replace(/^.*Edge\/([\d.]+).*$/,"$1")},Firefox:function(){return n.replace(/^.*Firefox\/([\d.]+).*$/,"$1")},Safari:function(){return n.replace(/^.*Version\/([\d.]+).*$/,"$1")},Opera:function(){return n.replace(/^.*Opera\/([\d.]+).*$/,"$1")},Vivaldi:function(){return n.replace(/^.*Vivaldi\/([\d.]+).*$/,"$1")},Maxthon:function(){return n.replace(/^.*Maxthon\/([\d.]+).*$/,"$1")},QQBrowser:function(){return n.replace(/^.*QQBrowser\/([\d.]+).*$/,"$1")},QQ:function(){return n.replace(/^.*QQ\/([\d.]+).*$/,"$1")},Baidu:function(){return n.replace(/^.*BIDUBrowser[\s\/]([\d.]+).*$/,"$1")},UC:function(){return n.replace(/^.*UC?Browser\/([\d.]+).*$/,"$1")},"2345Explorer":function(){return n.replace(/^.*2345Explorer\/([\d.]+).*$/,"$1")},Wechat:function(){return n.replace(/^.*MicroMessenger\/([\d.]+).*$/,"$1")},Taobao:function(){return n.replace(/^.*AliApp\(TB\/([\d.]+).*$/,"$1")},Alipay:function(){return n.replace(/^.*AliApp\(AP\/([\d.]+).*$/,"$1")},Weibo:function(){return n.replace(/^.*weibo__([\d.]+).*$/,"$1")},Suning:function(){return n.replace(/^.*SNEBUY-APP([\d.]+).*$/,"$1")},iQiYi:function(){return n.replace(/^.*IqiyiVersion\/([\d.]+).*$/,"$1")}};return e.version="",u[e.browser]&&(e.version=u[e.browser]()),e}}());